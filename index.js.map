{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport axios from 'axios';\n\nconst input = document.querySelector('.search-input');\nconst gallery = document.getElementById('gallery');\nconst formx = document.getElementById('search-form');\n\nconst lightbox = new SimpleLightbox('.gallery li > a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nconst loadMoreBtn = document.getElementById('load-more');\n\nlet page = 1;\nlet currentQ = '';\n\nasync function searchImages() {\n    const q = input.value.trim();\n    let loader;\n    if (q !== '' && q !== currentQ) {\n        page = 1;\n        currentQ = q;\n        gallery.innerHTML = '';\n        loader = document.getElementById('loader-container');\n    } else {\n        loader = document.getElementById('loader-more-container');\n    }\n\n\n\n    const apiKey = '46270894-c6cf89269c02f6d41aef898e4';\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${q}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=12`;\n\n    try {\n        loader.classList.remove('hidden');\n        const response = await axios.get(url);\n        const data = response.data;\n\n        if (data.hits.length === 0) {\n            iziToast.error({\n                title: '',\n                message:\n                    'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n            });\n        } else {\n            displayImages(data.hits);\n            loadMoreBtn.classList.remove('hidden');\n            page++;\n        }\n    } catch (error) {\n        iziToast.error({\n            title: '',\n            message: `Sorry, ${error.message}! Please try again!`,\n            position: 'topRight',\n        });\n        console.error('Hata:', error);\n    } finally {\n        loader.classList.add('hidden');\n    }\n}\n\nfunction displayImages(images) {\n    const galleryHtml = images.map(image => {\n        return `\n    <li class=\"card\">\n  <a href=\"${image.largeImageURL}\">\n    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n  </a>\n  <div class=\"info\">\n    <p class=\"info-text\"><b>Likes</b> ${image.likes}</p>\n    <p class=\"info-text\"><b>Views</b> ${image.views}</p>\n    <p class=\"info-text\"><b>Comments</b> ${image.comments}</p>\n    <p class=\"info-text\"><b>Downloads</b> ${image.downloads}</p>\n  </div>\n</li>\n    \n    `;\n    });\n\n    gallery.innerHTML += galleryHtml.join('');\n    lightbox.refresh();\n}\n\nformx.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    await searchImages();\n});"],"names":["input","gallery","formx","lightbox","SimpleLightbox","loadMoreBtn","page","currentQ","searchImages","q","loader","url","data","axios","iziToast","displayImages","error","images","galleryHtml","image","e"],"mappings":"owBAMA,MAAMA,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAQ,SAAS,eAAe,aAAa,EAE7CC,EAAW,IAAIC,EAAe,kBAAmB,CACnD,aAAc,MACd,aAAc,GAClB,CAAC,EAEKC,EAAc,SAAS,eAAe,WAAW,EAEvD,IAAIC,EAAO,EACPC,EAAW,GAEf,eAAeC,GAAe,CAC1B,MAAMC,EAAIT,EAAM,MAAM,KAAI,EAC1B,IAAIU,EACAD,IAAM,IAAMA,IAAMF,GAClBD,EAAO,EACPC,EAAWE,EACXR,EAAQ,UAAY,GACpBS,EAAS,SAAS,eAAe,kBAAkB,GAEnDA,EAAS,SAAS,eAAe,uBAAuB,EAM5D,MAAMC,EAAM,qEAA4CF,CAAC,iEAAiEH,CAAI,eAE9H,GAAI,CACAI,EAAO,UAAU,OAAO,QAAQ,EAEhC,MAAME,GADW,MAAMC,EAAM,IAAIF,CAAG,GACd,KAElBC,EAAK,KAAK,SAAW,EACrBE,EAAS,MAAM,CACX,MAAO,GACP,QACI,2EACJ,SAAU,UAC1B,CAAa,GAEDC,EAAcH,EAAK,IAAI,EACvBP,EAAY,UAAU,OAAO,QAAQ,EACrCC,IAEP,OAAQU,EAAO,CACZF,EAAS,MAAM,CACX,MAAO,GACP,QAAS,UAAUE,EAAM,OAAO,sBAChC,SAAU,UACtB,CAAS,EACD,QAAQ,MAAM,QAASA,CAAK,CACpC,QAAc,CACNN,EAAO,UAAU,IAAI,QAAQ,CAChC,CACL,CAEA,SAASK,EAAcE,EAAQ,CAC3B,MAAMC,EAAcD,EAAO,IAAIE,GACpB;AAAA;AAAA,aAEFA,EAAM,aAAa;AAAA,gBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,wCAGdA,EAAM,KAAK;AAAA,wCACXA,EAAM,KAAK;AAAA,2CACRA,EAAM,QAAQ;AAAA,4CACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAKtD,EAEDlB,EAAQ,WAAaiB,EAAY,KAAK,EAAE,EACxCf,EAAS,QAAO,CACpB,CAEAD,EAAM,iBAAiB,SAAU,MAAOkB,GAAM,CAC1CA,EAAE,eAAc,EAChB,MAAMZ,EAAY,CACtB,CAAC"}